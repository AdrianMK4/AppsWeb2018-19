<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <style>
        form{
            width:350px;
            border:3px solid cornflowerblue;
            margin:0 auto;
        }
        form{
            font-size:1.3rem;
        }
        .fila{
            margin:1em;
            display:flex;
        }
        .col1{
            width:30%;
            margin-right:1em;
        }
        .col2{
            width:70%;
           
        }
    </style>
</head>
<body>
    <form method="POST" action="" name="fLogin">
        <div class="fila">
            <div class="col1">
                    <label> Username: </label>
            </div>
            <div class="col2">
            <input type="text" name="txtUsername">
            </div>
        </div>
        <div class="fila">
            <div class="col1">
                <label>Password:</label>
            </div>
            <div class="col2">
                    <input type="password" name="txtPassword">
            </div>
        </div>
        <div class="fila">
            <input style="margin-right:1em;" type="button" name="btnRegistrar" value="Registrarse">
           
            <input type="button" name="btnLogin" value="Log in">
               
        </div>
    </form>

    <div>
        <h3>Control de acceso</h3>
        <ul id="listaAccesos">

        </ul>
    </div>
</body>
<script>
    var usuarios = [];

    document.fLogin.btnLogin.onclick=function(){
         //Obtener username
         var username = document.fLogin.txtUsername.value;
        var pass = document.fLogin.txtPassword.value;

        //COmprobar que están registrados

        for(var i = 0;i<usuarios.length;i++){
            if(usuarios[i].includes(username)){
                if(pass==usuarios[i].split("*")[1]){
                    //Crear elemento li para la ul control de acceso
                    var elementoLi = document.createElement("li");
                    var texto = document.createTextNode(username);
                    elementoLi.appendChild(texto);

                    document.getElementById("listaAccesos").appendChild(elementoLi);
                    break;
                }
            }
        }


    }
    document.fLogin.btnRegistrar.onclick=function(){

        //Obtener username
        var username = document.fLogin.txtUsername.value;
        var pass = document.fLogin.txtPassword.value;

        if(username==""){
            alert("Debe introducir nombre de usuario");
        }
        else if(pass==""){
            alert("Debe introducir un password");
        }
        else{
            var registro = username + "*" + pass;
            usuarios.push(registro);
            document.fLogin.txtUsername.value="";
            document.fLogin.txtPassword.value=""
            alert("Usuario creado con éxito");
        }
    }





</script>
</html>